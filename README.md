#LRU cache service

## Порядок запуска

* переименовать файл .env.example в .env
* выполнить команду docker-compose up


## Использование

* посмотреть swagger в браузере по адресу http://127.0.0.1:6100/api/
* установить значение ключа "key1" со значением "123" - выполнить POST запрос на адрес 127.0.0.1:6100/v1/key1 с телом {"value": "123"}
* получить значение ключа "key1" выполнить GET запрос на адрес 127.0.0.1:6100/v1/key1


## Автотесты

### внутри контейнера

* открыть консоль контейнера выполнить команду docker exec -it lru-service-container sh
* в консоли в контейнере выполнить команду npm run test
* в консоли в контейнере выполнить команду npm run test:e2e 

### внутри проекта (при написании тестов чтобы не пересобирать контейнер) 

* выполнить команду npm run test
* выполнить команду npm run test:e2e


## Назначение env переменных

MAX_CACHE_SIZE задает максимальный размер кэша, по достижении которого при добавлении нового ключа в кэш будет удаляться самый давно использованный ключ
APP_PREFIX задает префикс для ключей и имя сортированного списка в REDIS, позволяет при использовании БД REDIS несколькими сервисами одновременно избежать конфликта имен ключей